<!DOCTYPE HTML>
<html lang="zh-CN">
<head>
    <!--Setting-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta name="apple-mobile-web-app-capable" content="博客">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no,email=no,adress=no">
    <meta name="browsermode" content="application">
    <meta name="screen-orientation" content="portrait">
    <link rel="dns-prefetch" href="http://yoursite.com">
    <!--SEO-->

<meta name="description" content="将会成为前端架构师的我"/>





<meta name="robots" content="all" />
<meta name="google" content="all" />
<meta name="googlebot" content="all" />
<meta name="verify" content="all" />
    <!--Title-->


<title>mysql | 博客</title>


    <link rel="alternate" href="/atom.xml" title="博客" type="application/atom+xml">


    <link rel="icon" href="/favicon.ico">

    



<link rel="stylesheet" href="/css/bootstrap.min.css?rev=3.3.7">
<link rel="stylesheet" href="/css/font-awesome.min.css?rev=4.5.0">
<link rel="stylesheet" href="/css/style.css?rev=@@hash">




    
	<div class="hide">
		<script type="text/javascript">
			var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan class='cnzz_stat_icon_1263868967 hide' %3E%3Cscript%20src%3D%22https%3A%2F%2Fs95.cnzz.com%2Fz_stat.php%3Fweb_id%3D1272564536%22%3E%3C%2Fscript%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s19.cnzz.com/z_stat.php%3Fid%3D1263868967%26show%3Dpic1' type='text/javascript'%3E%3C/script%3E"));
		</script>
	</div>






    

</head>


<!--[if lte IE 8]>
<style>
    html{ font-size: 1em }
</style>
<![endif]-->
<!--[if lte IE 9]>
<div style="ie">你使用的浏览器版本过低，为了你更好的阅读体验，请更新浏览器的版本或者使用其他现代浏览器，比如Chrome、Firefox、Safari等。</div>
<![endif]-->

<body>
    <header class="main-header"  style="background-image:url(http://snippet.shenliyang.com/img/banner.jpg)"  >
    <div class="main-header-box">
        <a class="header-avatar" href="/" title='TsangTszKin'>
            <img src="/img/avatar.jpg" alt="logo头像" class="img-responsive center-block">
        </a>
        <div class="branding">
        	<!--<h2 class="text-hide">Snippet主题,从未如此简单有趣</h2>-->
            
                 <img src="/img/branding.png" alt="Snippet 博客主题" class="img-responsive center-block">
            
    	</div>
    </div>
</header>
    <nav class="main-navigation">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="navbar-header"><span class="nav-toggle-button collapsed pull-right" data-toggle="collapse" data-target="#main-menu" id="mnav">
                    <span class="sr-only"></span>
                        <i class="fa fa-bars"></i>
                    </span>
                    <a class="navbar-brand" href="http://yoursite.com">博客</a>
                </div>
                <div class="collapse navbar-collapse" id="main-menu">
                    <ul class="menu">
                        
                            <li role="presentation" class="text-center">
                                <a href="/"><i class="fa "></i>首页</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/前端/"><i class="fa "></i>前端</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/后端/"><i class="fa "></i>后端</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/工具/"><i class="fa "></i>工具</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/数据库/"><i class="fa "></i>数据库</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/管理/"><i class="fa "></i>管理</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/archives/"><i class="fa "></i>时间轴</a>
                            </li>
                        
                    </ul>
                </div>
            </div>
        </div>
    </div>
</nav>
    <section class="content-wrap">
        <div class="container">
            <div class="row">
                <main class="col-md-8 main-content m-post">
                    <p id="process"></p>
<article class="post">
    <div class="post-head">
        <h1 id="mysql">
            
	            mysql
            
        </h1>
        <div class="post-meta">
    
    
    <span class="categories-meta fa-wrap">
        <i class="fa fa-folder-open-o"></i>
        <a href="/categories/数据库">
            数据库
        </a>
    </span>
    

    
    <span class="fa-wrap">
        <i class="fa fa-tags"></i>
        <span class="tags-meta">
            
                
                    <a href="/tags/mysql" title='mysql'>
                        mysql
                    </a>
                
            
        </span>
    </span>
    

    
        
        <span class="fa-wrap">
            <i class="fa fa-clock-o"></i>
            <span class="date-meta">2016/10/10</span>
        </span>
        
    
</div>

            
            
            <p class="fa fa-exclamation-triangle warning">
                本文于<strong>798</strong>天之前发表，文中内容可能已经过时。
            </p>
        
    </div>
    
    <div class="post-body post-content">
        <h2 id="一、MySQL查询今天、昨天、上周、近30天、去年等的数据的方法："><a href="#一、MySQL查询今天、昨天、上周、近30天、去年等的数据的方法：" class="headerlink" title="一、MySQL查询今天、昨天、上周、近30天、去年等的数据的方法："></a>一、MySQL查询今天、昨天、上周、近30天、去年等的数据的方法：</h2><p>删除建立时间超过3天的订单记录<br>delete 订单表 where datediff( dd, order_addtime, getdate() ) &gt; 3 用函数datediff() datediff( dd, 时间1, 时间2 )，意思是：计算时间1到时间2之间的天数 所以，datediff( dd, order_addtime, getdate() ) &gt; 3，就是超过3天的</p>
<h3 id="今天"><a href="#今天" class="headerlink" title="今天"></a>今天</h3><pre><code>select * from 表名 where to_days(时间字段名) = to_days(now());  
</code></pre><h3 id="昨天"><a href="#昨天" class="headerlink" title="昨天"></a>昨天</h3><pre><code>SELECT * FROM 表名 WHERETO_DAYS(NOW( ) ) - TO_DAYS( 时间字段名) &lt;= 1  
</code></pre><h3 id="近7天"><a href="#近7天" class="headerlink" title="近7天"></a>近7天</h3><pre><code>SELECT * FROM 表名 whereDATE_SUB(CURDATE(), INTERVAL 7 DAY) &lt;=date(时间字段名)  
</code></pre><h3 id="近30天"><a href="#近30天" class="headerlink" title="近30天"></a>近30天</h3><pre><code>SELECT * FROM 表名 where DATE_SUB(CURDATE(), INTERVAL 30 DAY) &lt;=date(时间字段名)  
</code></pre><h3 id="本月"><a href="#本月" class="headerlink" title="本月"></a>本月</h3><pre><code>SELECT * FROM 表名 WHEREDATE_FORMAT( 时间字段名, &apos;%Y%m&apos; ) =DATE_FORMAT( CURDATE( ) , &apos;%Y%m&apos; )  
</code></pre><h3 id="上一月"><a href="#上一月" class="headerlink" title="上一月"></a>上一月</h3><pre><code>SELECT * FROM 表名 WHERE PERIOD_DIFF( date_format( now( ) , &apos;%Y%m&apos; ) , date_format( 时间字段名, &apos;%Y%m&apos; ) ) =1  
</code></pre><h3 id="查询本季度数据"><a href="#查询本季度数据" class="headerlink" title="查询本季度数据"></a>查询本季度数据</h3><pre><code>select * from `ht_invoice_information` whereQUARTER(create_date)=QUARTER(now());
</code></pre><h3 id="查询上季度数据"><a href="#查询上季度数据" class="headerlink" title="查询上季度数据"></a>查询上季度数据</h3><pre><code>select * from `ht_invoice_information` where QUARTER(create_date)=QUARTER(DATE_SUB(now(),interval 1 QUARTER));  
</code></pre><h3 id="查询本年数据"><a href="#查询本年数据" class="headerlink" title="查询本年数据"></a>查询本年数据</h3><pre><code>select * from `ht_invoice_information` where YEAR(create_date)=YEAR(NOW());  
</code></pre><h3 id="查询上年数据"><a href="#查询上年数据" class="headerlink" title="查询上年数据"></a>查询上年数据</h3><pre><code>select * from `ht_invoice_information` where year(create_date)=year(date_sub(now(),interval 1 year));  
</code></pre><h3 id="查询当前这周的数据"><a href="#查询当前这周的数据" class="headerlink" title="查询当前这周的数据"></a>查询当前这周的数据</h3><pre><code>SELECT name,submittime FROM enterprise WHERE YEARWEEK(date_format(submittime,&apos;%Y-%m-%d&apos;)) = YEARWEEK(now());  
</code></pre><h3 id="查询上周的数据"><a href="#查询上周的数据" class="headerlink" title="查询上周的数据"></a>查询上周的数据</h3><pre><code>SELECT name,submittime FROM enterprise WHEREYEARWEEK(date_format(submittime,&apos;%Y-%m-%d&apos;)) =YEARWEEK(now())-1;  
</code></pre><h3 id="查询当前月份的数据"><a href="#查询当前月份的数据" class="headerlink" title="查询当前月份的数据"></a>查询当前月份的数据</h3><pre><code>select name,submittime from enterprise   where date_format(submittime,&apos;%Y-%m&apos;)=date_format(now(),&apos;%Y-%m&apos;)  
</code></pre><h3 id="查询距离当前现在6个月的数据"><a href="#查询距离当前现在6个月的数据" class="headerlink" title="查询距离当前现在6个月的数据"></a>查询距离当前现在6个月的数据</h3><pre><code>select name,submittime from enterprise where submittime between date_sub(now(),interval 6 month) and now();    
</code></pre><h3 id="查询上个月的数据"><a href="#查询上个月的数据" class="headerlink" title="查询上个月的数据"></a>查询上个月的数据</h3><pre><code>select name,submittime from enterprise   where date_format(submittime,&apos;%Y-%m&apos;)=date_format(DATE_SUB(curdate(), INTERVAL 1 MONTH),&apos;%Y-%m&apos;)  
select * from ` user ` where DATE_FORMAT(pudate, &apos; %Y%m &apos; ) = DATE_FORMAT(CURDATE(), &apos; %Y%m &apos; ) ;  
select * from user where WEEKOFYEAR(FROM_UNIXTIME(pudate,&apos;%y-%m-%d&apos;)) = WEEKOFYEAR(now())  
select *   
from user
where MONTH (FROM_UNIXTIME(pudate, &apos; %y-%m-%d &apos; )) = MONTH (now())  
select *   
from [ user ]   
where YEAR (FROM_UNIXTIME(pudate, &apos; %y-%m-%d &apos; )) = YEAR (now())  
and MONTH (FROM_UNIXTIME(pudate, &apos; %y-%m-%d &apos; )) = MONTH (now())  
select *   
from [ user ]   
where pudate between 上月最后一天  
and 下月第一天  
where date(regdate)   =   curdate();  
select   *   from   test   where year(regdate)=year(now())   and month(regdate)=month(now())   and day(regdate)=day(now())  
SELECT date( c_instime ) ,curdate( )  
FROM `t_score`  
WHERE 1  
LIMIT 0 , 30 
</code></pre><h2 id="二、相关函数简介"><a href="#二、相关函数简介" class="headerlink" title="二、相关函数简介"></a>二、相关函数简介</h2><h3 id="1、Sql-server中DateDiff-用法"><a href="#1、Sql-server中DateDiff-用法" class="headerlink" title="1、Sql server中DateDiff()用法"></a>1、Sql server中DateDiff()用法</h3><p>DATEDIFF 函数 [日期和时间]<br>功能<br>返回两个日期之间的间隔。<br>语法 </p>
<pre><code>DATEDIFF ( date-part, date-expression-1, date-expression-2 )
date-part :
year | quarter | month | week | day | hour | minute | second | millisecond
</code></pre><p>参数<br>date-part    指定要测量其间隔的日期部分。</p>
<p>有关日期部分的详细信息，请参见日期部分。</p>
<p>date-expression-1    某一间隔的起始日期。从 date-expression-2 中减去该值，返回两个参数之间 date-parts 的天数。</p>
<p>date-expression-2    某一间隔的结束日期。从该值中减去 Date-expression-1，返回两个参数之间 date-parts 的天数。<br>用法 </p>
<p>此函数计算两个指定日期之间日期部分的数目。结果为日期部分中等于（date2 - date1）的有符号的整数值。</p>
<p>当结果不是日期部分的偶数倍时，DATEDIFF 将被截断而不是被舍入。</p>
<p>当使用 day 作为日期部分时，DATEDIFF 返回两个指定的时间之间（包括第二个日期但不包括第一个日期）的午夜数。</p>
<p>当使用 month 作为日期部分时，DATEDIFF 返回两个日期之间（包括第二个日期但不包括第一个日期）出现的月的第一天的数目。</p>
<p>当使用 week 作为日期部分时，DATEDIFF 返回两个日期（包括第二个日期但不包括第一个日期）之间星期日的数目。</p>
<p>对于更小的时间单位存在溢出值：</p>
<p>milliseconds    24 天<br>seconds    68 年<br>minutes    4083 年<br>others    没有溢出限制</p>
<p>如果超出这些限制，此函数将返回溢出错误。<br>标准和兼容性 </p>
<p>SQL/92    Transact-SQL 扩展。<br>SQL/99    Transact-SQL 扩展。<br>Sybase    与 Adaptive Server Enterprise 兼容。</p>
<p>下面示例的语句返回 1：</p>
<pre><code>SELECT datediff( hour, &apos;4:00AM&apos;, &apos;5:50AM&apos; )下面的语句返回 102：
SELECT datediff( month, &apos;1987/05/02&apos;, &apos;1995/11/15&apos; )下面的语句返回 0：
SELECT datediff( day, &apos;00:00&apos;, &apos;23:59&apos; )下面的语句返回 4：
SELECT datediff( day,
   &apos;1999/07/19 00:00&apos;,
   &apos;1999/07/23 23:59&apos; )下面的语句返回 0：
SELECT datediff( month, &apos;1999/07/19&apos;, &apos;1999/07/23&apos; )下面的语句返回 1：
SELECT datediff( month, &apos;1999/07/19&apos;, &apos;1999/08/23&apos; )
</code></pre><h3 id="2、MySQLDATE-SUB-函数"><a href="#2、MySQLDATE-SUB-函数" class="headerlink" title="2、MySQLDATE_SUB()函数"></a>2、MySQLDATE_SUB()函数</h3><p>MySQL Date 函数<br>定义和用法<br>DATE_SUB() 函数从日期减去指定的时间间隔。<br>语法</p>
<pre><code>DATE_SUB(date,INTERVAL expr type)
</code></pre><p>date 参数是合法的日期表达式。expr 参数是您希望添加的时间间隔。</p>
<p>type 参数可以是下列值：</p>
<table><br><tr><th>Type 值</th></tr><br><tr><td>MICROSECOND</td></tr><br><tr><td>SECOND</td></tr><br><tr><td>MINUTE</td></tr><br><tr><td>HOUR<br>DAY</td></tr><br><tr><td>WEEK</td></tr><br><tr><td>MONTH</td></tr><br><tr><td>QUARTER</td></tr><br><tr><td>YEAR</td></tr><br><tr><td>SECOND_MICROSECOND</td></tr><br><tr><td>MINUTE_MICROSECOND</td></tr><br><tr><td>MINUTE_SECOND</td></tr><br><tr><td>HOUR_MICROSECOND</td></tr><br><tr><td>HOUR_SECOND</td></tr><br><tr><td>HOUR_MINUTE</td></tr><br><tr><td>DAY_MICROSECOND</td></tr><br><tr><td>DAY_SECOND</td></tr><br><tr><td>DAY_MINUTE</td></tr><br><tr><td>DAY_HOUR</td></tr><br><tr><td>YEAR_MONTH</td></tr><br></table>

<p>实例</p>
<p>假设我们有如下的表：</p>
<table><br><tr><th>OrderId</th><th>ProductName</th><th>OrderDate</th></tr><br><tr><td>1</td><td>‘Computer’</td><td>2008-12-29 16:25:46.635</td></tr><br></table>

<p>现在，我们希望从 “OrderDate” 减去 2 天。<br>我们使用下面的 SELECT 语句：</p>
<pre><code>SELECT OrderId,DATE_SUB(OrderDate,INTERVAL 2 DAY) AS OrderPayDate
FROM Orders
</code></pre><p>结果：</p>
<table><br><tr><th>OrderId</th><th>OrderPayDate</th></tr><br><tr><td>1</td><td>2008-12-27 16:25:46.635</td></tr><br></table>

<p> 例2.</p>
<pre><code>SELECT DATE_SUB(&apos;2010-08-12&apos;, INTERVAL &apos;3-2&apos; YEAR_MONTH) AS NewDate  
</code></pre><p>   结果：2007-06-12</p>
<p>  例3.</p>
<pre><code>SELECT DATE_SUB(&apos;2011-09-14 2:44:36&apos;, INTERVAL &apos;2:26&apos; HOUR_MINUTE) AS NewDate  
</code></pre><p>   结果： 2011-09-1400:18:36</p>
<h3 id="3、TO-DAYS-date"><a href="#3、TO-DAYS-date" class="headerlink" title="3、TO_DAYS(date)"></a>3、TO_DAYS(date)</h3><p>给定一个日期date, 返回一个天数 (从年份0000-00-00开始的天数 )。</p>
<p> 例：</p>
<pre><code>select TO_DAYS(NOW());
+----------------+
| TO_DAYS(NOW()) |
+----------------+
| 735159 |
+----------------+
select TO_DAYS(121018);
+-----------------+
| TO_DAYS(121018) |
+-----------------+
| 735159 |
+-----------------+
</code></pre><p>给定一个日期date，返回一个天数（从年份0开始的天数）。<br>TO_DAYS() 不用于阳历出现(1582)前的值，原因是当日历改变时，遗失的日期不会被考虑在内。<br>请记住， MySQL“日期和时间类型”中的规则将日期中的二位数年份值转化为四位。例如，  ‘1997-10-07′和 ‘97-10-07′ 被视为同样的日期:<br>对于1582 年之前的日期(或许在其它地区为下一年 ), 该函数的结果实不可靠的。</p>
<h3 id="4、MySQL-DATE-函数"><a href="#4、MySQL-DATE-函数" class="headerlink" title="4、MySQL DATE() 函数"></a>4、MySQL DATE() 函数</h3><p>MySQL Date 函数</p>
<p>定义和用法</p>
<p>DATE() 函数返回日期或日期/时间表达式的日期部分。</p>
<p>实例</p>
<p>假设我们有如下的表：</p>
<table><br><tr><th>OrderId</th><th>ProductName</th><th>OrderDate</th></tr><br><tr><td>1</td><td>‘Computer’</td><td>2008-12-29 16:25:46.635</td></tr><br></table>

<p>我们使用下面的 SELECT 语句：</p>
<pre><code>SELECT ProductName, DATE(OrderDate) AS OrderDate
FROM Orders
WHERE OrderId=1
</code></pre><p>结果：</p>
<table><br><tr><th>ProductName</th><th>OrderDate</th></tr><br><tr><td>‘Computer’</td><td>2008-12-29</td></tr><br></table>

<h3 id="5、MySQL-NOW-函数"><a href="#5、MySQL-NOW-函数" class="headerlink" title="5、MySQL NOW() 函数"></a>5、MySQL NOW() 函数</h3><p>MySQL Date 函数</p>
<p>定义和用法</p>
<p>NOW() 函数返回当前的日期和时间。</p>
<p>语法</p>
<p>NOW()</p>
<p>实例</p>
<p>例子 1</p>
<p>下面是 SELECT 语句：</p>
<pre><code>SELECT NOW(),CURDATE(),CURTIME()
</code></pre><p>结果类似：</p>
<table><br><tr><th>NOW()</th><th>CURDATE()</th><th>CURTIME()</th></tr><br><tr><td>2008-12-29 16:25:46</td><td>2008-12-29</td><td>16:25:46</td></tr><br></table>

<p>例子 2</p>
<p>下面的 SQL 创建带有日期时间列 (OrderDate) 的 “Orders” 表：</p>
<pre><code>CREATE TABLE Orders 
(
OrderId int NOT NULL,
ProductName varchar(50) NOT NULL,
OrderDate datetime NOT NULL DEFAULT NOW(),
PRIMARY KEY (OrderId)
)
</code></pre><p>请注意，OrderDate 列规定 NOW() 作为默认值。作为结果，当您向表中插入行时，当前日期和时间自动插入列中。<br>现在，我们希望在 “Orders” 表中插入一条新记录：</p>
<pre><code>INSERT INTO Orders (ProductName) VALUES (&apos;Computer&apos;)
</code></pre><p>“Orders” 表将类似这样：</p>
<table><br><tr><th>OrderId</th><th>ProductName</th><th>OrderDate/th&gt;</th></tr><br><tr><td>1</td><td>‘Computer’</td><td>2008-12-29 16:25:46.635</td></tr><br></table>


<h3 id="6、MySQL-DATE-FORMAT-函数"><a href="#6、MySQL-DATE-FORMAT-函数" class="headerlink" title="6、MySQL DATE_FORMAT() 函数"></a>6、MySQL DATE_FORMAT() 函数</h3><p>MySQL Date 函数</p>
<p>定义和用法</p>
<p>DATE_FORMAT() 函数用于以不同的格式显示日期/时间数据。</p>
<p>语法</p>
<p>DATE_FORMAT(date,format)</p>
<p>date 参数是合法的日期。format 规定日期/时间的输出格式。<br>可以使用的格式有：</p>
<pre><code>格式 描述
%a 缩写星期名
%b 缩写月名
%c 月，数值
%D 带有英文前缀的月中的天
%d 月的天，数值(00-31)
%e 月的天，数值(0-31)
%f 微秒
%H 小时 (00-23)
%h 小时 (01-12)
%I 小时 (01-12)
%i 分钟，数值(00-59)
%j 年的天 (001-366)
%k 小时 (0-23)
%l 小时 (1-12)
%M 月名
%m 月，数值(00-12)
%p AM 或 PM
%r 时间，12-小时（hh:mm:ss AM 或 PM）
%S 秒(00-59)
%s 秒(00-59)
%T 时间, 24-小时 (hh:mm:ss)
%U 周 (00-53) 星期日是一周的第一天
%u 周 (00-53) 星期一是一周的第一天
%V 周 (01-53) 星期日是一周的第一天，与 %X 使用
%v 周 (01-53) 星期一是一周的第一天，与 %x 使用
%W 星期名
%w 周的天 （0=星期日, 6=星期六）
%X 年，其中的星期日是周的第一天，4 位，与 %V 使用
%x 年，其中的星期一是周的第一天，4 位，与 %v 使用
%Y 年，4 位
%y 年，2 位
</code></pre><p>实例</p>
<p>下面的脚本使用 DATE_FORMAT() 函数来显示不同的格式。我们使用 NOW() 来获得当前的日期/时间：</p>
<pre><code>DATE_FORMAT(NOW(),&apos;%b %d %Y %h:%i %p&apos;)
DATE_FORMAT(NOW(),&apos;%m-%d-%Y&apos;)
DATE_FORMAT(NOW(),&apos;%d %b %y&apos;)
DATE_FORMAT(NOW(),&apos;%d %b %Y %T:%f&apos;)
</code></pre><p>结果类似：</p>
<pre><code>Dec 29 2008 11:45 PM
12-29-2008
29 Dec 08
29 Dec 2008 16:25:46.635
</code></pre><h3 id="7、MySQL获取季度的函数QUARTER-d"><a href="#7、MySQL获取季度的函数QUARTER-d" class="headerlink" title="7、MySQL获取季度的函数QUARTER(d)"></a>7、MySQL获取季度的函数QUARTER(d)</h3><p>QUARTER(d)函数返回日期d是一年中的第几季度。值的范围是1～4。</p>
<p>实例</p>
<p>使用QUARTER()函数返回指定日期对应的季度。SQL语句如下：</p>
<pre><code>mysql&gt;SELECT QUARTER(&apos;14-09-29&apos;);
</code></pre><p>执行结果如下：<br><img src="https://i.imgur.com/L2TXznO.gif" alt=""><br>从上图中代码执行的结果可以看出，14年9月29日是2014年的第3个季度。</p>
<hr>
<p>提示</p>
<p>“00～69”转换为“2000～2069”，“70～99”转换为“1970～1999”。</p>
<h3 id="8、MySQL-的-YEARWEEK-函数："><a href="#8、MySQL-的-YEARWEEK-函数：" class="headerlink" title="8、MySQL 的 YEARWEEK()函数："></a>8、MySQL 的 YEARWEEK()函数：</h3><p>它是获取年份和周数的一个函数，<br>函数形式为 </p>
<pre><code>YEARWEEK(date[,mode])
</code></pre><p>例如 2010-3-14 ，礼拜天</p>
<pre><code>SELECT YEARWEEK(&apos;2010-3-14&apos;) 
</code></pre><p>返回<br> 11</p>
<pre><code>SELECT YEARWEEK(&apos;2010-3-14&apos;,1) 
</code></pre><p>返回<br> 10</p>
<p>其中第二个参数是 mode ，具体指的意思如下：</p>
<pre><code>Mode | First day of week  | Range |  Week 1 is the first week …
0             Sunday             0-53     with a Sunday in this year
1             Monday             0-53     with more than 3 days this year
2             Sunday             1-53     with a Sunday in this year
3             Monday             1-53     with more than 3 days this year
4             Sunday             0-53     with more than 3 days this year
5             Monday             0-53     with a Monday in this year
6             Sunday             1-53     with more than 3 days this year
7             Monday             1-53     with a Monday in this year
</code></pre><p>多字段去重查询</p>
<pre><code>where concat(`字段1`, `字段2`, `字段3`,...) like ...
</code></pre><p>查看mysql安装目录</p>
<pre><code>select @@basedir as basePath from dual
</code></pre>
    </div>
    
    <div class="post-footer">
        <div>
            
                转载声明：商业转载请联系作者获得授权,非商业转载请注明出处 © <a href="" target="_blank">Snippet</a>
            
        </div>
        <div>
            
        </div>
    </div>
</article>

<div class="article-nav prev-next-wrap clearfix">
    
        <a href="/2016/11/04/java/" class="pre-post btn btn-default" title='java'>
            <i class="fa fa-angle-left fa-fw"></i><span class="hidden-lg">上一篇</span>
            <span class="hidden-xs">java</span>
        </a>
    
    
        <a href="/2016/05/09/css3/" class="next-post btn btn-default" title='css3'>
            <span class="hidden-lg">下一篇</span>
            <span class="hidden-xs">css3</span><i class="fa fa-angle-right fa-fw"></i>
        </a>
    
</div>


    <div id="comments">
        
    
    <div id="vcomments" class="valine"></div>
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="/assets/valine.min.js"></script>

    <script>
        new Valine({
            av: AV,
            el: '#vcomments',
            appId: 'xOKV9J4UeQAtVkvnJC7Kq2Jn-gzGzoHsz',
            appKey: 'erIpQac4azoCmgfBB7Dl9maa',
            placeholder: '说点什么吧',
            notify: false,
            verify: false,
            avatar: 'mm',
            meta: 'nick,mail'.split(','),
            pageSize: '10',
            path: window.location.pathname,
            lang: 'zh-CN'.toLowerCase()
        })
    </script>


    </div>





                </main>
                
                    <aside id="article-toc" role="navigation" class="col-md-4">
    <div class="widget">
        <h3 class="title">文章目录</h3>
        
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#一、MySQL查询今天、昨天、上周、近30天、去年等的数据的方法："><span class="toc-text">一、MySQL查询今天、昨天、上周、近30天、去年等的数据的方法：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#今天"><span class="toc-text">今天</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#昨天"><span class="toc-text">昨天</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#近7天"><span class="toc-text">近7天</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#近30天"><span class="toc-text">近30天</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#本月"><span class="toc-text">本月</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#上一月"><span class="toc-text">上一月</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#查询本季度数据"><span class="toc-text">查询本季度数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#查询上季度数据"><span class="toc-text">查询上季度数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#查询本年数据"><span class="toc-text">查询本年数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#查询上年数据"><span class="toc-text">查询上年数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#查询当前这周的数据"><span class="toc-text">查询当前这周的数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#查询上周的数据"><span class="toc-text">查询上周的数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#查询当前月份的数据"><span class="toc-text">查询当前月份的数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#查询距离当前现在6个月的数据"><span class="toc-text">查询距离当前现在6个月的数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#查询上个月的数据"><span class="toc-text">查询上个月的数据</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#二、相关函数简介"><span class="toc-text">二、相关函数简介</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1、Sql-server中DateDiff-用法"><span class="toc-text">1、Sql server中DateDiff()用法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2、MySQLDATE-SUB-函数"><span class="toc-text">2、MySQLDATE_SUB()函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3、TO-DAYS-date"><span class="toc-text">3、TO_DAYS(date)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4、MySQL-DATE-函数"><span class="toc-text">4、MySQL DATE() 函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5、MySQL-NOW-函数"><span class="toc-text">5、MySQL NOW() 函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6、MySQL-DATE-FORMAT-函数"><span class="toc-text">6、MySQL DATE_FORMAT() 函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7、MySQL获取季度的函数QUARTER-d"><span class="toc-text">7、MySQL获取季度的函数QUARTER(d)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8、MySQL-的-YEARWEEK-函数："><span class="toc-text">8、MySQL 的 YEARWEEK()函数：</span></a></li></ol></li></ol>
        
    </div>
</aside>

                
            </div>
        </div>
    </section>
    <footer class="main-footer">
    <div class="container">
        <div class="row">
        </div>
    </div>
</footer>

<a id="back-to-top" class="icon-btn hide">
	<i class="fa fa-chevron-up"></i>
</a>




    <div class="copyright">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="busuanzi">
    
</div>

            </div>
            <div class="col-sm-12">
                <span>Copyright &copy; 2017
                </span> |
                <span>
                    Powered by <a href="//hexo.io" class="copyright-links" target="_blank" rel="nofollow">Hexo</a>
                </span> |
                <span>
                    Theme by <a href="//github.com/shenliyang/hexo-theme-snippet.git" class="copyright-links" target="_blank" rel="nofollow">Snippet</a>
                </span>
            </div>
        </div>
    </div>
</div>







<script src="/js/app.js?rev=@@hash"></script>

</body>
</html>